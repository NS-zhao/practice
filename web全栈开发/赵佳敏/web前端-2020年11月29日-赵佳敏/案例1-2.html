<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <style>
        *{
            margin: 0;
            padding: 0;
        }
        .box{
            margin: 0 auto;
            width: 500px;
            height: 320px;
            border: 1px solid #cbcbcb;
        }
        .nav{
            line-height: 30px;
            position: relative;
        }
        .line{
            position: absolute;
            width: 30px;
            border-bottom: 4px solid red;
            left: 0;
            transform: translatex(10px);
            bottom: 0;
            transition: transform .2s ease-in-out;
        }
        .nav>span{
            position: relative;
            display: inline-block;
            width: 50px;
            height: 30px;
            font-size: 13px;
            text-align: center;
        }
        .content{
            width: 500px;
            height: 285px;
        }
        </style>
</head>
<body>
<div class="box">
    <div class="nav">
        <span class="menu">精选</span><span class="menu">美食</span><span class="menu">百货</span><span class="menu">个护</span><span class="menu">预告</span>
        <i class="line"></i>
    </div>

    <div class="content">

    </div>
</div>
<script>
   /* //获取所有的menu添加事件---遍历menu添加事件--spam和线是分开的，要知道进入的是哪个span,要想在当前的事件拿到相对应的i，就得操作闭包
    // ----想要line来回移动，就得修改它的transform属性
    //1.获取所有的menu添加事件
    var menu = document.querySelectorAll(".menu");
    var lineOffset = 10; //默认元素偏移了10px
    //获取line
    var line = document.querySelector(".line");
    //2.遍历menu添加事件
    for(var i = 0;i<menu.length;i++)
    {
        //spam和线是分开的，要知道进入的是哪个span,要想在当前的事件内部拿到相对应的i，就得操作闭包
        //方案1：
        /!*(function(n){
            menu[n].onmouseover = function(){
                console.log(n);
            }
        })(i)*!/

        //方案2：当前的i可以通过当前对象的属性来关联使用(按索引的方式来写)
        menu[i].index = i;
        menu[i].onmouseover = function(){
            //想要line来回移动，就得修改它的transform属性
            var this_w = this.offsetWidth;
            var transX = this_w * this.index+lineOffset;
            line.style.transform = "translatex("+transX+"px)";
        }

    }
    //事件闭包要手动回收
    menu = null;*/


   /*//方案1：
    /!*var menu = document.querySelectorAll(".menu");
    var lineOffset = 10;
    var line = document.querySelector(".line");
    for(var i = 0;i<menu.length;i++)
    {
    (function(n){
    menu[n].onmouseover = function(){
    var this_w = this.offsetWidth;
    var transX = this_w * n+lineOffset;
    line.style.transform = "translatex("+transX+"px)";
    }
    })(i);

    }
    *!/
    //方案2；
    var menu = document.querySelectorAll(".menu");
    var lineOffset = 10;
    var line = document.querySelector(".line");
    for(var i = 0;i<menu.length;i++)
    {
    menu[i].index = i;
    menu[i].onmouseover = function(){
    var this_w = this.offsetWidth;
    var transX = this_w*this.index+lineOffset;
    line.style.transform = "translatex("+transX+"px)";
    }
    }*/



    /*//方案1：
    /!*var menu = document.querySelectorAll(".menu");
    var line = document.querySelector(".line");
    var lineOffset = 10;
    for(var i = 0;i<menu.length;i++){
        (function(n){
            menu[n].onmouseover = function(){
                var this_w = this.offsetWidth;
                var transX = this_w*n+lineOffset;
                line.style.transform = "translatex("+transX+"px)";
            }
        })(i);
    }*!/

    //方案2
    var menu = document.querySelectorAll(".menu");
    var line = document.querySelector(".line");
    var lineOffset = 10;
    for(var i = 0;i<menu.length;i++)
    {
        menu[i].index = i;
        menu[i].onmouseover = function(){
            var this_w = this.offsetWidth;
            var transX = this_w*this.index+lineOffset;
            line.style.transform = "translatex("+transX+"px)";
        }
    }*/


    //方案1：
    /*var menu = document.querySelectorAll(".menu");
    var line = document.querySelector(".line");
    var lineOffset = 10;
    for(var i = 0;i<menu.length;i++)
    {
        (function(n){
            menu[n].onmouseover = function(){
                var this_w = this.offsetWidth;
                var transX = this_w*n+lineOffset;
                line.style.transform = "translatex("+transX+"px)";
            }
        })(i);
    }*/

    var menu = document.querySelectorAll(".menu");
    var line = document.querySelector(".line");
    var lineOffset = 10;
    for(var i = 0;i<menu.length;i++)
    {
        menu[i].index = i;
        menu[i].onmouseover = function(){
            var this_x = this.offsetWidth;
            var transX = this_x*this.index+lineOffset;
            line.style.transform = "translatex("+transX+"px)";
        }
    }
</script>
</body>
</html>