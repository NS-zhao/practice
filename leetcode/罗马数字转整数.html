<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
</head>
<body>
<script>
    var romanToInt = function(s) {
        let [result,str]=[0,s];
        //单字符表
        const single={
            I:1,
            V:5,
            X:10,
            L:50,
            C:100,
            D:500,
            M:1000
        };
        //双字符表
        const double={
            IV:4,
            IX:9,
            XL:40,
            XC:90,
            CD:400,
            CM:900
        };
        let ans=0;
        //将双字符全部替换成对应的数值，并以空格分隔
        for(const k in double){
            if(str.includes(k)){
                str=str.replaceAll(k,` ${double[k]}`).trim();
            }
        }
        //将单字符全部替换成对应的数值，并以空格分隔
        for(const m in single){
            if(str.includes(m)){
                str=str.replaceAll(m,` ${single[m]}`).trim();
            }
        }
        //将结果分割成数组，调用数组reduce方法计算结果
        result=str.split(' ').reduce((total,item)=>(total+item*1),0);
        return result;
    };

</script>
</body>
</html>